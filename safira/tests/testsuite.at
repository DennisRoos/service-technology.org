AT_INIT

# m4_define(AT_CHECK_LOLA, [AT_CHECK([if test "LOLA" == ""; then exit 77; fi])])

############################################################################
AT_BANNER([Standard Options])
############################################################################

AT_SETUP([unit test])
AT_CHECK([cp TESTFILES/EMPTY .])
AT_CHECK([cp TESTFILES/testGraph_total_ref.eaa TESTFILES/testGraph_complement_ref.eaa .])
AT_CHECK([TESTSAFIRA],0,stdout,stderr)
AT_CHECK([diff EMPTY stderr])
AT_CHECK([diff testGraph_total.eaa testGraph_total_ref.eaa])
AT_CHECK([diff testGraph_complement.eaa testGraph_complement_ref.eaa])
AT_KEYWORDS(unitTest)
AT_CLEANUP

AT_SETUP([complement minispec.og])
AT_CHECK([cp TESTFILES/EMPTY TESTFILES/minispec_complement_ref.eaa TESTFILES/minispec.og .])
AT_CHECK([SAFIRA minispec.og],0,stdout,stderr)
AT_CHECK([diff EMPTY stderr])
AT_CHECK([diff stdout minispec_complement_ref.eaa])
AT_KEYWORDS(complement)
AT_CLEANUP

AT_SETUP([complement myCoffee.og])
AT_CHECK([cp TESTFILES/EMPTY TESTFILES/myCoffee.og TESTFILES/myCoffee_complement_ref.eaa .])
AT_CHECK([SAFIRA -oeaa myCoffee.og],0,stdout,stderr)
AT_CHECK([diff EMPTY stdout])
AT_CHECK([diff EMPTY stderr])
AT_CHECK([test -f myCoffee_complement.eaa])
AT_CHECK([diff myCoffee_complement_ref.eaa myCoffee_complement.eaa])
AT_KEYWORDS(complement)
AT_CLEANUP

AT_SETUP([complement of big OG])
AT_CHECK([cp TESTFILES/EMPTY TESTFILES/PO.og TESTFILES/PO.txt .])
AT_CHECK([SAFIRA PO.og],0,stdout,stderr)
AT_CHECK([diff EMPTY stderr])
AT_CHECK([diff stdout PO.txt])
AT_KEYWORDS(complement)
AT_CLEANUP

AT_SETUP([test output: pdf, eps, png, dot])
AT_CHECK([cp TESTFILES/EMPTY TESTFILES/myCoffee.og .])
AT_CHECK([SAFIRA -opdf myCoffee.og],0,stdout,stderr)
AT_CHECK([test -f myCoffee_complement.pdf])
AT_CHECK([diff EMPTY stdout])
AT_CHECK([diff EMPTY stderr])
AT_CHECK([SAFIRA -oeps myCoffee.og],0,stdout,stderr)
AT_CHECK([test -f myCoffee_complement.eps])
AT_CHECK([diff EMPTY stdout])
AT_CHECK([diff EMPTY stderr])
AT_CHECK([SAFIRA -opng myCoffee.og],0,stdout,stderr)
AT_CHECK([test -f myCoffee_complement.png])
AT_CHECK([diff EMPTY stdout])
AT_CHECK([diff EMPTY stderr])
AT_CHECK([SAFIRA -odot myCoffee.og],0,stdout,stderr)
AT_CHECK([test -f myCoffee_complement.dot])
AT_CHECK([diff EMPTY stdout])
AT_CHECK([diff EMPTY stderr])
AT_CHECK([SAFIRA -odot myCoffee.og],0,stdout,stderr)
AT_CHECK([test -f myCoffee_complement.dot])
AT_CHECK([diff EMPTY stdout])
AT_CHECK([diff EMPTY stderr])
AT_KEYWORDS(output)
AT_CLEANUP


