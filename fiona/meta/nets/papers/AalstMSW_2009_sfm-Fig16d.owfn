PLACE
  INTERNAL
    p1, p2, p3;

  INPUT
    r, ai, bi, ci;

  OUTPUT
    s, ao, bo, co;

INITIALMARKING;

FINALCONDITION
  (ALL_PLACES_EMPTY);


TRANSITION a
  CONSUME r, ai;
  PRODUCE p3, ao;

TRANSITION b
  CONSUME p1, bi;
  PRODUCE p2, bo;

TRANSITION c
  CONSUME p2, ci;
  PRODUCE s, co;

TRANSITION d
  CONSUME p3;
  PRODUCE p1;
