ChangeLog for UML2oWFN

Version 1.03 (in progress)
============

+ stored reduction level in the scripts/Makefile in variable "REDUCTION-LEVEL", so the reduction level can be set at the make call
+ added new scripts/Makefile target "translateweak" that uses the "-a removePinsets" option,  
+ added new analysis switch "-a removePinsets" that relaxes the process termination semantics by requiring that only the control-flow terminates, but that data may still be pending at the process output
+ updated documentation and included .pdf creation
+ overrode the Petri net reduction method in the ExtendedWorkflowNet class, now implementing reduce_series_places (level 1) and reduce_identical_places (level 3)
+ moved re-implementation of reduce_series_places and reduce_series_transitions to ExtendedWorkflowNet and restored the original implementation
+ added routine to remove empty output pinsets which is needed for a deadlock-based soundness analysis of Petri nets, the routine is not used in this version because for BOM processes, only the modelchecking-based soundness analysis yields correct results (the inner of the process must be empty).
+ changed task file naming scheme to 'net.lola.<tasktype>.task'
+ added parameter "-a safe" to check for safeness of a net using LoLA with state predicates, this parameter can be used together with "-a soundness" and "-a deadlocks"
+ worked on bug #12160: PNAPI: Petri net reduction rules do not preserve (un)-safeness, disallowing place/transition fusion if places/transitions are together in the preset/postset of another transition/place 
+ modified analysis scripts: fixed evaluation of LoLA return results (in case of deadlock analysis, return result '0' means 'unsound'), and preserving LoLA output in 'niels-analysis_lola.log' for further investigations
+ added documentation in ./doc/
+ added analysis scripts (by Niels)
+ modified soundness analysis scheme: the parameter combination "-a soundness -a deadlocks" tries to generate Petri nets for a deadlock based soundness analysis of the library. In case a net is a freechoice-workflow net, this is possible, in any other case a reachability analysis of the set of final markings must be done by CTL-model checking. For each case the corresponding net and analysis task is created.
+ added checks for free-choice nets and for workflow-nets (each node is on a path from alpha to omega); this additional Petri net functionality is implemented in the class ExtendedWorkflowNet which inherits from PetriNet
+ extended filtering criteria: empty processes are not translated
+ fixed bug #12156: UML2oWFN: translation of overlapping pinsets fails, <https://gna.org/bugs/?12156>
+ added log file output for translation, with parameter "-p log" a log file (name "uml2owfn_<inputfile>.log") with entries of the form "<process-name>;<translated>;<reason-for-fail>" is written
+ changed lola executable file names (in the generated script) to "lola-dl" for deadlock analysis and "lola-mc" for modelchecking (soundness)
+ added check whether generated Petri net is empty, if this is the case, then the net is translated again without reduction rules, the name is extended with a ".unreduced" (if it is still emtpy, then the net is skipped: no net file, no analysis, not in script file)


Version 1.02
============

+ Changed output: The property for the soundness analysis is now appended to the net and written to the net file by default.
+ Added parameter switch "-p taskfile" to re-enable the old functionality and to write a separate task file.
+ The generated verification script considers all cases accordingly.
+ Re-enabled the error routine of the parser. Parser errors are now printed to the console.
+ Added null pointer checking in Block::linkInserts() and disabled filtering in the parser. Fixes Bug #12027, https://gna.org/bugs/index.php?12027 
+ Added wbim:humanTask to the lexer. Is parsed and represented as normal task.
+ Added wbim:bulkResourceRequirement to the lexer. Is parsed as role requirement. This is feasible because role requirements are (currently) ignored in the process translation, fixes Bug #12031, https://gna.org/bugs/?12031
+ Added wbim:indidividualResourceRequirement to the lexer. Is parsed as role requirement. This is feasible because role requirements are (currently) ignored in the process translation
+ Extended parser to read atomic "callToProcess"-tags without children
+ changed command line help output to provide correct and meaningful examples for command line parameters
# This release correctly parses libraries a1-a4, b1-b4, and p1. Library m1 cannot be parsed due to an unrecoverable error in the parser implementation, see Bug #12041, https://gna.org/bugs/?12041
+ implemented Woflan file format (.tpn), see http://gna.org/task/?6011
+ file format can be triggered with "-f tpn"
+ Soundness checking now distinguishes checking for reachability of end states, checking for deadlocks, and checking for non-reachability of the final state (this will deprecate...)
+ soundness analysis now appends "omega" places to each output pinset and transitions that remove tokens from endNodes and stopNodes once the "omega" place is marked
+ reachability of end states:
  * adds live-locking transitions to each "omega" place
  * generates the formula AG EF (omega1 > 1 OR ... OR omegaN > 0 ) AND (p1 = 0 AND ... AND pM = 0) with pi being internal places of the process
  * corresponding task file and verification script is generated, verification requires a LoLA with MODELECHECKING, executable file name "lola"
  * command line call: uml2owfn -i <lib.xml> -a soundness -f <format> -o
+ checking for deadlocks
  * adds live-locking transitions to each "omega" place
  * generated verification script requires a LoLA with DEADLOCKS, executable file name "lola_deadlock"
  * command line call: uml2owfn -i <lib.xml> -a soundness -a deadlocks -f <format> -o
+ inversed parameter "pins" to "keeppins" (unconnected pins are now removed by default)
+ All analysis tasks allow using Petri net reduction rules.
+ merged functionality of rev.65-69 of the trunk, http://svn.gna.org/viewcvs/service-tech?rev=69&view=rev http://svn.gna.org/viewcvs/service-tech?rev=68&view=rev http://svn.gna.org/viewcvs/service-tech?view=rev&rev=66 http://svn.gna.org/viewcvs/service-tech?view=rev&rev=65
+ dot-output colors nodes according to their origin in BOM
+ translation from BOM to PN now implements the complete task pattern (bug in rev.69) and links process input pinsets and output pinsets
+ added class BomProcess (bom-process.cc .h) as an internal representation of the process, the class currently only stores some sets of places and transitions. The sets are used when modifying the Petri net for soundness analysis
+ changed parameters:
  * added analysis parameter [-a (soundness|stop)]; 
  * "-a soundness" is equivalent to -p soundness in earlier revisions, 
  * by "-a stop", the translation for soundness distinguishes stop-nodes and end-nodes, with "-a stop" a state predicate is needed for checking soundness (corresponding lola files and scripts are generated), without "-a stop" a deadlock analysis is sufficient (corresponding lola files and scripts are generated)